sap.ui.define(["sap/ui/core/mvc/ControllerExtension","sap/m/Column","sap/m/ColumnListItem"],function(e,t,n){"use strict";return e.extend("PreviewApp.HeaderDisplay.ext.controller.ObjPage",{override:{onInit:function(){var e=this.base.getExtensionAPI().getModel()},routing:{onAfterBinding:async function(e){debugger;const l=this.base.getExtensionAPI(),a=l.getModel();let s;let o=e.sPath.replace(/[^0-9]/g,"");o="Doc"+o;sap.ui.core.BusyIndicator.show(0);$.ajax({url:`https://nfa_app-grateful-duiker-kc.cfapps.us20.hana.ondemand.com/dev/getPreview?event_id=${o}`,type:"GET",success:function(e){debugger;let a=l.byId("fe::table::vendorpc::LineItem::VendorPriceComparison::Table");let o=l.byId("fe::table::vendorpc::LineItem::Questions::Table");let d=a.getContent().mAggregations._content;let i=o.getContent().mAggregations._content;let r=["Itemname"];let u=["question"];d.destroyItems();i.destroyItems();d.destroyColumns();i.destroyColumns();let c=["id"];let f=e?.question;f.forEach(e=>{let n=Object.keys(e);let l=Object.values(e);u.forEach(e=>{if(!c.includes(e)){var n=new t({header:new sap.m.Label({text:e})});i.addColumn(n);c.push(e)}});n.forEach(e=>{if(!c.includes(e)){var n=new t({header:new sap.m.Label({text:e})});i.addColumn(n);c.push(e)}})});c=["id"];let p=e.data;p.forEach(n=>{let l=Object.keys(n);r.forEach(e=>{if(!c.includes(e)){var n=new t({header:new sap.m.Label({text:e})});d.addColumn(n);c.push(e)}});l.forEach(n=>{if(!c.includes(n)){if(n==e.low_flag){var l=new t({header:new sap.m.Label({text:n}),styleClass:"columncolor"})}else{var l=new t({header:new sap.m.Label({text:n})})}d.addColumn(l);c.push(n)}})});let m=[];let h;let g;if(e!=undefined||e!="not found"){for(let e=0;e<p.length;e++){for(let t=0;t<r.length;t++){s=new sap.m.Text({text:p[e][r[t]]});if(p[e][r[t]]=="Tax"||p[e][r[t]]=="Total"){s.addStyleClass("cellcolor")}m.push(s);delete p[e][r[t]]}let t=p[e]?.id;if(t!=undefined){delete p[e].id}g=Object.values(p[e]);let l=g.length;g.forEach((e,t)=>{s=new sap.m.Text({text:e});m.push(s)});h=new n({cells:m});d.addItem(h);m=[]}}m=[];if(f!=undefined){for(let e=0;e<f.length;e++){for(let t=0;t<u.length;t++){s=new sap.m.Text({text:f[e][u[t]]});m.push(s);delete f[e][u[t]]}let t=f[e]?.id;if(t!=undefined){delete f[e].id}g=Object.values(f[e]);g.forEach(e=>{s=new sap.m.Text({text:e});m.push(s)});h=new n({cells:m});i.addItem(h);m=[]}}sap.ui.core.BusyIndicator.hide()}})}}}})});
//# sourceMappingURL=ObjPage.controller.js.map